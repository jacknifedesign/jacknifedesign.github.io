var JACKNIFE=JACKNIFE||{};!function($){$(document).ready(function(){$(".carousel").each(function(){var Carousel=new JACKNIFE.Carousel($(this));Carousel.init(),$(this).data("Carousel",Carousel)})})}(jQuery);var JACKNIFE=JACKNIFE||{};!function($){JACKNIFE.Carousel=function(el){var $el=$(el),$prev_btn=$(".carousel-prev",$el),$next_btn=$(".carousel-next",$el),$carousel=$(".carousel-nav",$el),$thumbs=$("ul",$carousel),$thumb=$("li",$thumbs),$content=$(".carousel-slides ul",$el),$images=$("li",$content),index=0,limit=0;this.init=function(){$prev_btn.on("click",_showPrevious),$next_btn.on("click",_showNext),$("a",$thumb).on("click",_showImg),$(window).on("resize",_resize),$(window).resize()};var _showImg=function(e){e.preventDefault();var target=$(this).data("index"),distance=$el.width()*target;$content.css("left",-distance+"px")},_showPrevious=function(e){e.preventDefault();var distance,carousel_width=$carousel.width();$thumbs.position().left,$thumbs.width();limit<=1||(-1===--index?index=limit-1:index<0&&(index=0),distance=carousel_width*index,$thumbs.css("left",-distance+"px"))},_showNext=function(e){e.preventDefault();var distance,carousel_width=$carousel.width();$thumbs.position().left,$thumbs.width();limit<=1||(++index===limit?index=0:index>limit-1&&(index=limit-1),distance=carousel_width*index,$thumbs.css("left",-distance+"px"))},_resize=function(e){var target_width=($thumb.width()+16)*$thumb.length,carousel_width=$carousel.width(),distance=($thumbs.width(),carousel_width*index),content_width=$el.width()*$thumb.length;$content.width(content_width),$images.width(content_width/$thumb.length),limit=target_width/$carousel.width(),$thumbs.width(target_width),limit<=1||(-1===index||index>limit-1?index=limit-1:(index<0||index===limit)&&(index=0),distance=carousel_width*index,$thumbs.css("left",-distance+"px"))}}}(jQuery);