var JACKNIFE=JACKNIFE||{};!function($){$(document).ready(function(){$(".table-sort").each(function(){new JACKNIFE.TableSort($(this)).init()}),$(".table-filter").each(function(){new JACKNIFE.TableFilter($(this)).init()})})}(jQuery),function($){JACKNIFE.TableFilter=function(el){$(el);this.init=function(){}}}(jQuery),function($){JACKNIFE.TableSort=function(el){var $el=$(el),$toggles=$(".sort-toggle",$el),$body=$("tbody",$el),direction="DESC",rows=$("tr",$body).toArray();this.init=function(){$toggles.on("click",_click);var $target=$(".sort-toggle.active",$el);$(".sort-toggle.active",$el)&&(_set_direction($target),_sort($target))};var _click=function(e){e.preventDefault();var $target=$(this);_set_direction($target),_sort($target)},_set_direction=function($target){$target.hasClass("active")?$target.hasClass("sort-asc")?($target.removeClass("sort-asc"),$target.addClass("sort-desc"),direction="DESC"):$target.hasClass("sort-desc")&&($target.removeClass("sort-desc"),$target.addClass("sort-asc"),direction="ASC"):($toggles.removeClass("active sort-desc sort-asc"),$target.addClass("active sort-desc"),direction="DESC")},_sort=function($target){var index=$target.index();rows=rows.sort(_compare(index)),"DESC"===direction&&(rows=rows.reverse());for(var i=0;i<rows.length;i++)$body.append(rows[i])},_compare=function(index){return function(a,b){var valA=_get_value(a,index),valB=_get_value(b,index);return $.isNumeric(valA)&&$.isNumeric(valB)?valA-valB:(valA=valA.toString(),valB=valB.toString(),valA.localeCompare(valB))}},_get_value=function(row,index){return $("td",row).eq(index).text()}}}(jQuery);